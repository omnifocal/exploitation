# Jack the ROPper - An introduction to ROP

## Whoami
- Security consultant, Asterisk
- Previously of ECU, competed in CySCA
- WACTF challenge dev :P

## Why talk?
- I'm not an expert
- Repeating some interesting stuff I've picked up
- If I get something wrong, please shout

## What is ROP
- Return Oriented Programming
- Variation on the classic stack-based buffer overflow that doesn't require the execution of code placed on the stack[[1]](#references)
- Instead, the return address (saved EIP) of a stack frame is overwritten so that when the stack unwinds, execution returns to the address we place on the stack

## Why ROP?
- We can still control program flow even if the stack isn't executable
    - Meaning that even if we can't send our own code to exec, we can cause the execution of any code in the target process's .text segment

## What can't it do?
- Won't bypass stack canaries
    - `-fno-stack-protector` to disable
    - There are other ways to get around these if the right conditions exist
- Can sometimes be thwarted by ASLR
    - `echo 0 > /proc/sys/kernel/randomize_va_space` to disable
    - If set to the right level
    - And if there's enough entropy >.>
- Position-independent code (`-fPIC`, `-fpic`, `-fpie`, `-shared`) can be a hurdle
    - `-no-pie` (in GCC 7.2.0) to disable 

## Doing more
- Popping shell
    - Roll your own stack frame
    - May require disabling ASLR?
- ROP chains / gadgets

## References
1. http://phrack.org/issues/49/14.html
2. https://ropemporium.com/